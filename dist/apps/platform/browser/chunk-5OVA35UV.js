import{a as W,b as Q}from"./chunk-3QRXG3P2.js";import{h as R,i as Z}from"./chunk-73OR7BN6.js";import{h as H}from"./chunk-3WJWDJZJ.js";import{$ as d,$a as j,Bb as q,Ga as D,Ha as S,Hb as O,Ib as b,Jb as A,Ka as a,Kb as P,La as I,Ob as V,Rb as B,Sa as E,Sb as K,T as N,Tb as $,Va as h,Wb as J,Ya as L,aa as p,hb as c,ia as F,ka as u,la as C,mb as U,nb as y,ob as v,pb as T,qb as r,qc as z,rb as o,rc as G,sb as m,wb as _,xb as f,yb as w}from"./chunk-24GKCPYZ.js";import"./chunk-4CLCTAJ7.js";var X=(()=>{class e{cdr;ngZone;currentValue;timer;defaultIntervalTime=E(3e4);inputDate=null;constructor(t,i){this.cdr=t,this.ngZone=i}transform(t,i){return t?(this.inputDate=new Date(t),this.currentValue=this.calculateTimeAgo(this.inputDate),i&&this.defaultIntervalTime.set(i),this.clearTimer(),this.schedualUpdateTask(),this.currentValue):""}schedualUpdateTask(){this.ngZone.runOutsideAngular(()=>{this.timer=setInterval(()=>{this.currentValue=this.calculateTimeAgo(this.inputDate),this.cdr.markForCheck()},this.defaultIntervalTime())})}calculateTimeAgo(t){let n=new Date().getTime()-t.getTime(),l=Math.floor(n/1e3),s=Math.floor(l/60),k=Math.floor(s/60),x=Math.floor(k/24),re=Math.floor(x/7);return s<1?"Just now":s<60?`${s} ${s==1?"min":"mins"} ago`:k<24?`${k} ${k==1?"hour":"hours"} ago`:x<7?`${x} day${x>1?"s":""} ago`:this.formatDate(t)}formatDate(t){let i={hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"};return t.toLocaleDateString("en-GB",i).replace(",","")}clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}ngOnDestroy(){this.clearTimer()}static \u0275fac=function(i){return new(i||e)(I(J,16),I(F,16))};static \u0275pipe=L({name:"timeAgo",type:e,pure:!1})}return e})();var te=e=>({$implicit:e});function ie(e,g){if(e&1&&m(0,"ng-containter",14),e&2){let t=w(),i=O(25);c("ngTemplateOutlet",i)("ngTemplateOutletContext",V(2,te,t.data().post.mediaUrl))}}function ne(e,g){if(e&1){let t=_();r(0,"div",21)(1,"img",22),f("click",function(){let n=d(t).$implicit,l=w(2);return p(l.imageClick.emit(n))}),o()()}if(e&2){let t=g.$implicit;a(),c("src",t,S)}}function ae(e,g){if(e&1&&(r(0,"section",19),m(1,"div",20),v(2,ne,2,1,"div",21,y),o()),e&2){let t=g.$implicit;a(2),T(t)}}var Y=(()=>{class e{data=C.required();like=u();dislike=u();imageClick=u();commentClick=u();guildClick=u();authorClick=u();static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["pk-new-feed-item"]],inputs:{data:[1,"data"]},outputs:{like:"like",dislike:"dislike",imageClick:"imageClick",commentClick:"commentClick",guildClick:"guildClick",authorClick:"authorClick"},decls:26,vars:11,consts:[["mediaTemplate",""],[1,"new-feed-item","flex","flex-column","border-1","border-content-primary","p-4","border-round-2xl","bg-content-primary"],[1,"header","flex","mb-2"],[1,"w-fit","h-fit"],["size","large","shape","circle",1,"mr-2",3,"image"],[1,"flex","align-items-center","gap-1"],[1,"text-sm","text-color","cursor-pointer","hover:underline","underline-offset-1",3,"click"],[1,"pi","pi-angle-right","text-xs"],[1,"text-color","opacity-80","hover:underline","cursor-pointer","underline-offset-1",3,"click"],[1,"text-xs","mt-1","opacity-90"],[1,"content","mb-2"],[1,"text-content"],[1,"p-0","m-0","text-lg","font-bold"],[1,"line-height-3","mt-3","text-sm",3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"footer","flex","gap-2","mt-2"],["icon","pi pi-thumbs-up-fill","severity","primary","text","",3,"label"],["icon","pi pi-thumbs-down","severity","secondary","text","",3,"label"],["icon","pi pi-comment","severity","secondary","text","","label","33"],[1,"media-content","mt-4","flex","justify-content-center","relative","border-round-lg"],[1,"background-blur"],[1,"image-wrapper","w-full","h-full","flex","justify-content-center"],["alt","content-img","priority","","loading","eager",1,"content-img","cursor-pointer",3,"click","src"]],template:function(i,n){if(i&1){let l=_();r(0,"section",1)(1,"section",2)(2,"section",3),m(3,"p-avatar",4),o(),r(4,"section")(5,"div",5)(6,"span",6),f("click",function(){return d(l),p(n.authorClick.emit(n.data().author))}),b(7),o(),m(8,"span",7),r(9,"a",8),f("click",function(){return d(l),p(n.guildClick.emit(n.data().author.guild))}),b(10),o()(),r(11,"div",9),b(12),B(13,"timeAgo"),o()()(),r(14,"section",10)(15,"section",11)(16,"div",12),b(17),o(),m(18,"div",13),o(),j(19,ie,1,4,"ng-containter",14),o(),r(20,"section",15),m(21,"p-button",16)(22,"p-button",17)(23,"p-button",18),o()(),j(24,ae,4,0,"ng-template",null,0,$)}i&2&&(a(3),q("image",n.data().author.avatarUrl),a(4),A(n.data().author.nickName),a(3),A(n.data().author.guild.name),a(2),P(" ",K(13,9,n.data().post.createdAt)," "),a(5),A(n.data().post.title),a(),c("innerHTML",n.data().post.content,D),a(),U(n.data().post.mediaUrl.length?19:-1),a(2),q("label",n.data().post.like),a(),q("label",n.data().post.dislike))},dependencies:[Q,W,Z,R,X,z],styles:[".media-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;max-height:420px;height:420px}.media-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:fit-content;min-width:fit-content;max-width:100%;height:100%;z-index:2;box-shadow:0 4px 6px #8b8b8b33}.background-blur[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:url(https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg) center center/cover no-repeat;filter:blur(30px);z-index:1;-webkit-filter:blur(30px);background-position:center;background-repeat:no-repeat;background-size:cover}@media screen and (max-width: 1024px){.media-content[_ngcontent-%COMP%]{max-height:300px;height:300px}.media-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:fit-content;min-width:fit-content;height:100%}}"]})}return e})();function oe(e,g){if(e&1){let t=_();r(0,"pk-new-feed-item",2),f("authorClick",function(n){d(t);let l=w();return p(l.onAuthorClick(n))})("guildClick",function(n){d(t);let l=w();return p(l.onSelectGuild(n))}),o()}if(e&2){let t=g.$implicit;c("data",t)}}var ee=(()=>{class e{dataSource=C.required();router=N(H);onSelectGuild(t){console.log("onSelectGuild: ",t),this.router.navigate([`/bang-hoi/${t.id}`])}onAuthorClick(t){this.router.navigate(["/"])}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["pk-new-feed-list"]],inputs:{dataSource:[1,"dataSource"]},decls:3,vars:0,consts:[[1,"new-feed-list","flex","flex-column","row-gap-4"],[3,"data"],[3,"authorClick","guildClick","data"]],template:function(i,n){i&1&&(r(0,"section",0),v(1,oe,1,1,"pk-new-feed-item",1,y),o()),i&2&&(a(),T(n.dataSource()))},dependencies:[Y],encapsulation:2})}return e})();var De=(()=>{class e{data=[{author:{avatarUrl:"https://i.ytimg.com/vi/W5X1S4qeCyA/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AH-CYAC0AWKAgwIABABGHIgQyhKMA8=&rs=AOn4CLCvdB4fLx_rz4JQ5q1So7LuAkEE_w",guild:{name:"Vi\xEAm V\xF5 Th\xE0nh",id:"123123213"},nickName:"langbachy"},post:{createdAt:new Date().getTime(),like:842,dislike:34,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}},{author:{avatarUrl:"https://hoanghamobile.com/tin-tuc/wp-content/uploads/2023/08/truyen-tranh-tu-tien-7.jpg",guild:{name:"Thi\xEAn V\u0169 Minh",id:"123123213"},nickName:"khuchongnhan"},post:{createdAt:new Date().toISOString(),like:654,dislike:23,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:[]}},{author:{avatarUrl:"https://hoanghamobile.com/tin-tuc/wp-content/uploads/2023/08/truyen-tranh-tu-tien-7.jpg",guild:{name:"Thi\xEAn Huy\u1EC1n M\xF4n",id:"123123213"},nickName:"cothanhthanh"},post:{createdAt:new Date().toISOString(),like:523,dislike:19,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:[]}},{author:{avatarUrl:"https://imgcdn.stablediffusionweb.com/2024/8/15/4ad6c51e-1cdb-4ae0-beb8-83b4590b9a21.jpg",guild:{name:"C\xE1i Bang",id:"123123213"},nickName:"viencaohan"},post:{createdAt:new Date().getTime()-224e5,like:789,dislike:42,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}},{author:{avatarUrl:"https://kenh14cdn.com/P5ztNeWnPgTuRvNfEChtKHpOhiE1F/Image/2012/10/hinh-4-b1fd3.JPG",guild:{name:"Thi\xEAn Ki\u1EBFm T\xF4ng",id:"123123213"},nickName:"foodie_lover"},post:{createdAt:new Date().getTime()-84e5,like:912,dislike:56,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}},{author:{avatarUrl:"https://kenh14cdn.com/P5ztNeWnPgTuRvNfEChtKHpOhiE1F/Image/2012/10/hinh-4-b1fd3.JPG",guild:{name:"\u0110\u1EA3o Huy\u1EC1n Ly",id:"123123213"},nickName:"diepkinhvu"},post:{createdAt:new Date().getTime()-40006600,like:478,dislike:12,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}},{author:{avatarUrl:"https://imgcdn.stablediffusionweb.com/2024/8/15/4ad6c51e-1cdb-4ae0-beb8-83b4590b9a21.jpg",guild:{name:"C\xE1i Bang",id:"123123213"},nickName:"lyvantieu.dz"},post:{createdAt:new Date().getTime()-454e5,like:683,dislike:25,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}},{author:{avatarUrl:"https://imgcdn.stablediffusionweb.com/2024/8/15/4ad6c51e-1cdb-4ae0-beb8-83b4590b9a21.jpg",guild:{name:"C\xE1i Bang",id:"123123213"},nickName:"diepnamthien"},post:{createdAt:new Date().getTime()-24e5,like:732,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,dislike:37,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://t4.ftcdn.net/jpg/10/50/89/13/240_F_1050891362_qLJOB1thleWsSsIxlESJJGLiyEMvZnMt.jpg"]}},{author:{avatarUrl:"https://imgcdn.stablediffusionweb.com/2024/8/15/4ad6c51e-1cdb-4ae0-beb8-83b4590b9a21.jpg",guild:{name:"C\xE1i Bang",id:"123123213"},nickName:"ngaotruongkhong"},post:{createdAt:new Date().getTime()-114e5,like:564,dislike:18,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://t4.ftcdn.net/jpg/10/50/89/13/240_F_1050891362_qLJOB1thleWsSsIxlESJJGLiyEMvZnMt.jpg"]}},{author:{avatarUrl:"https://imgcdn.stablediffusionweb.com/2024/8/15/4ad6c51e-1cdb-4ae0-beb8-83b4590b9a21.jpg",guild:{name:"C\xE1i Bang",id:"123123213"},nickName:"adventure_seeker"},post:{createdAt:new Date().getTime()-4e5,like:821,dislike:29,content:`<span> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ad dicta quo
        exercitationem ab earum, qui <strong>Khoi79</strong> quidem ipsum nisi ex cum quasi
        dolore natus tempore unde magnam placeat doloremque voluptas.</span>`,title:"Can anyone help me to explain how does Change detection works in angular?",mediaUrl:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Tabby_cat_with_blue_eyes-3336579.jpg/852px-Tabby_cat_with_blue_eyes-3336579.jpg"]}}];static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["pk-new-feed"]],decls:3,vars:1,consts:[[1,"h-full","flex","justify-content-center","new-feed-wrapper"],[1,"new-feed-container"],[3,"dataSource"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"div",1),m(2,"pk-new-feed-list",2),o()()),i&2&&(a(2),c("dataSource",n.data))},dependencies:[G,ee],styles:[".new-feed-wrapper[_ngcontent-%COMP%]   .new-feed-container[_ngcontent-%COMP%]{width:800px;max-width:800px}@media screen and (max-width: 1440px){.new-feed-wrapper[_ngcontent-%COMP%]   .new-feed-container[_ngcontent-%COMP%]{width:700px;max-width:700px}}"],changeDetection:0})}return e})();export{De as NewFeedComponent};
